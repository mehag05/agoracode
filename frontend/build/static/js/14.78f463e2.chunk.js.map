{"version":3,"file":"static/js/14.78f463e2.chunk.js","mappings":"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","sources":["components/Footer.tsx","pages/Home.tsx"],"sourcesContent":["'use client'\nimport React from 'react'\nimport { useLocation } from 'react-router-dom'\nimport MaxWidthWrapper from './MaxWidthWrapper'\nimport { Icons } from './Icons'\nimport { SessionAuth } from 'supertokens-auth-react/recipe/session'\nimport { IUser } from 'schema/user'\nimport { FetchUser } from 'utils/fetchUser'\n\nconst Footer = () => {\n  const location = useLocation();\n  const pathname = location.pathname;\n  const pathsToMinimize = [\n    '/verify-email',\n    '/sign-up',\n    '/sign-in',\n  ];\n\n  const { user, loading, error } = FetchUser(); // Fetch the user object\n\n  const handleSellClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\n    if (!user) {\n      e.preventDefault();\n      window.alert('Please sign in to sell!');\n      window.location.href = '/auth/signin';\n    }\n  };\n\n  return (\n    <footer className='bg-white flex-grow-0'>\n      <MaxWidthWrapper>\n        <div className='border-t border-gray-200'>\n          {pathsToMinimize.includes(pathname ?? '') ? null : (\n            <div className='pb-8 pt-16'>\n              <div className='flex justify-center'>\n                <Icons.logo className='h-12 w-auto' />\n              </div>\n            </div>\n          )}\n\n          {pathsToMinimize.includes(pathname ?? '') ? null : (\n            <div>\n              <div className='relative flex items-center px-6 py-6 sm:py-8 lg:mt-0'>\n                <div className='absolute inset-0 overflow-hidden rounded-lg'>\n                  <div\n                    aria-hidden='true'\n                    className='absolute bg-zinc-50 inset-0 bg-gradient-to-br bg-opacity-90'\n                  />\n                </div>\n\n                <div className='text-center relative mx-auto max-w-sm'>\n                  <h3 className='font-semibold text-gray-900'>\n                    Become a seller\n                  </h3>\n                  <p className='mt-2 text-sm text-muted-foreground'>\n                    If you&apos;d like to sell, you can do so in\n                    minutes.{' '}\n                    <a\n                      href='/sell'\n                      className='whitespace-nowrap font-medium text-black hover:text-zinc-900'\n                      onClick={handleSellClick} // Add this line\n                    >\n                      Get started &rarr;\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className='py-10 md:flex md:items-center md:justify-between'>\n          <div className='text-center md:text-left flex items-center space-x-4'>\n            <p className='text-sm text-muted-foreground'>\n              &copy; {new Date().getFullYear()} All Rights Reserved\n            </p>\n            <p className='text-sm text-muted-foreground'>\n               <a href=\"mailto:agoraupenn@gmail.com\" className=\"text-black hover:text-zinc-900\">Have an inquiry? Contact Us!</a>\n            </p>\n          </div>\n\n          <div className='mt-4 flex items-center justify-center md:mt-0'>\n            <div className='flex space-x-8'>\n              <a\n                href='/terms-conditions'\n                className='text-sm text-muted-foreground hover:text-gray-600'>\n                Terms\n              </a>\n              <a\n                href='/privacy-policy'\n                className='text-sm text-muted-foreground hover:text-gray-600'>\n                Privacy Policy\n              </a>\n              <a\n                href='https://www.instagram.com/agora.upenn?igsh=OGQ5ZDc2ODk2ZA%3D%3D&utm_source=qr'\n                className='text-muted-foreground hover:text-gray-600'\n                aria-label='Instagram'>\n                <img src=\"/instagram.svg\" alt=\"AGORA\" width={24} height={24} />\n              </a>\n            </div>\n          </div>\n        </div>\n      </MaxWidthWrapper>\n    </footer>\n  )\n}\n\nexport default Footer;","import MaxWidthWrapper from '../components/MaxWidthWrapper';\nimport ProductReel from '../components/ProductReel';\nimport { buttonVariants } from '../components/ui/button';\nimport { Link, useNavigate } from 'react-router-dom';\nimport React, { useEffect, useState } from 'react';\nimport Footer from '../components/Footer';\nimport { FetchUser } from '../utils/fetchUser'; // Adjust the path as needed\nimport Session from 'supertokens-auth-react/recipe/session';\nimport axios from 'axios';\nimport Spinner from 'components/Spinner';\n\nexport default function Home() {\n  const { user, loading, error } = FetchUser();\n  const navigate = useNavigate();\n  \n  // State to manage screen width\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth);\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean | null>(null);\n  const isMobile = screenWidth <= 768; // Define mobile screen width threshold\n\n  // Effect to update screen width on resize\n  useEffect(() => {\n    const handleResize = () => setScreenWidth(window.innerWidth);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  useEffect(() => {\n    const checkSession = async () => {\n      try {\n        const isLoggedIn = await Session.doesSessionExist();\n        setIsAuthenticated(isLoggedIn);\n        if (isLoggedIn) {\n          // Make a request to an authenticated endpoint to trigger the email verification check\n          await axios.get(`${process.env.REACT_APP_API_BASE_URL}/api/protected-route`);\n          console.log(\"Email verified\")\n        }\n      } catch (error) {\n        if (axios.isAxiosError(error) && error.response?.status === 403) {\n          // Redirect to email verification page if the email is not verified\n          navigate('/email-sent');\n        } else {\n          console.error('Error checking session or email verification:', error);\n        }\n      }\n    };\n    checkSession();\n  }, [navigate]);\n\n  // Adjust positioning based on screen width\n  const cartPositionStyle = {\n    top: screenWidth <= 1000 ? '-50px' : '10px', // Above on smaller screens, beside on larger screens\n    right: screenWidth <= 1000 ? '0' : '-140px' // Adjust right offset for smaller screens\n  };\n\n  if (loading) return <div><Spinner/></div>;\n  if (error) return <div>{error}</div>;\n\n  return (\n    <div className=\"home-container\" id=\"home-container\">\n      {isMobile ? (\n        <div className=\"background\" />\n      ) : (\n        <video autoPlay muted loop id=\"backgroundVideo\" className=\"background-video\">\n          <source src=\"/backgroundvid.mp4\" type=\"video/mp4\" />\n          Your browser does not support the video tag.\n        </video>\n      )}\n      <MaxWidthWrapper>\n        <div className='py-20 mx-auto text-center flex flex-col items-center max-w-3xl relative'>\n          <div className='relative flex justify-center items-center text-md font-medium'>\n            <img src=\"/agora.svg\" alt=\"AGORA\" width={600} height={400} />\n            <Link\n              to='/howitworks'\n              className='absolute'\n              style={cartPositionStyle} // Apply the dynamic style here\n            >\n              <img \n                src=\"/star.svg\" \n                alt=\"How it works\" \n                className='max-w-[100px] max-h-[100px] sm:max-w-[130px] sm:max-h-[130px] md:max-w-[170px] md:max-h-[170px] lg:max-w-[170px] lg:max-h-[170px]'\n              />\n            </Link>\n          </div>\n          {user ? (\n            <h1 className='text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl' style={{ color: '#f8e29c' }}>\n              <span className='text agora-font'>\n                {user.firstName ? `Hey, ${user.firstName}` : 'Hey there!'}\n              </span>\n            </h1>\n          ) : (\n            <h1 className='text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl' style={{ color: '#f8e29c' }}>\n              <span className='text agora-font'>\n                Your campus marketplace.\n              </span>\n            </h1>\n          )}\n          <p className='mt-6 text-xl font-bold agora-font max-w-prose text-muted-foreground' style={{ color: '#f8e29c' }}>\n            Buy and Sell.\n          </p>\n          <div className='flex flex-col gap-4 mt-6 items-center'>\n            <Link\n              to='/products'\n              className={buttonVariants({ variant: 'bigpurple', size: 'lg'})}\n            >\n              Browse Trending\n            </Link>\n          </div>\n        </div>\n        <div className = ''>\n          <ProductReel\n            href='/products'\n            title='Brand New'\n            textColor={isMobile ? 'grey' : 'white'} // Change text color based on mobile state\n          />\n        </div>\n      </MaxWidthWrapper>\n      <Footer />\n    </div>\n  );\n}"],"names":["Footer","pathname","useLocation","pathsToMinimize","user","loading","error","FetchUser","_jsx","className","children","_jsxs","MaxWidthWrapper","includes","Icons","logo","href","onClick","e","preventDefault","window","alert","location","Date","getFullYear","src","alt","width","height","Home","navigate","useNavigate","screenWidth","setScreenWidth","useState","innerWidth","isAuthenticated","setIsAuthenticated","isMobile","useEffect","handleResize","addEventListener","removeEventListener","async","isLoggedIn","Session","axios","get","console","log","_error$response","isAxiosError","response","status","checkSession","cartPositionStyle","top","right","Spinner","id","autoPlay","muted","loop","type","Link","to","style","color","firstName","buttonVariants","variant","size","ProductReel","title","textColor"],"sourceRoot":""}