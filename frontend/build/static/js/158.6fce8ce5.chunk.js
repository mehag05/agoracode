"use strict";(self.webpackChunkagora_frontend=self.webpackChunkagora_frontend||[]).push([[158],{6158:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var r=t(9643),a=t(7192),l=t(8312),c=t(3231),n=t(510),i=t(3159),d=t(5414),o=t(6507);const x=()=>{const{user:e,error:s}=(0,l.Q)(),[t,x]=(0,r.useState)([]),[m,h]=(0,r.useState)(!0),g=(0,a.zy)(),{clearCart:u}=(0,i._)();return(0,r.useEffect)((()=>{"true"===new URLSearchParams(g.search).get("clear")&&u()}),[g,u]),(0,r.useEffect)((()=>{const t=new AbortController;return(async()=>{if(e)try{const s=(await c.A.get(`http://localhost:3001/api/myorders/${e.supertokens_id}`)).data;x(s)}catch(s){console.error("Error fetching orders:",s)}finally{h(!1)}})(),()=>{t.abort()}}),[e]),m?(0,o.jsx)("div",{children:(0,o.jsx)(d.A,{})}):s?(0,o.jsxs)("div",{children:["Error: ",s]}):e?(0,o.jsx)("main",{className:"relative lg:min-h-full",children:(0,o.jsxs)("div",{className:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-1 lg:gap-x-8 lg:px-8 lg:py-32 xl:gap-x-24",children:[(0,o.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Your Orders"}),(0,o.jsx)("p",{className:"mt-4 text-lg text-gray-700",children:"Here you can track the status of your orders and see the products you have bought. Try refreshing if your order is not coming up."}),0===t.length?(0,o.jsx)("p",{className:"mt-4 text-lg text-gray-700",children:"You have no orders yet."}):t.map((e=>{const s=e.products[0];return(0,o.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[" ",(0,o.jsx)("img",{src:s.image,alt:s.name,className:"w-20 h-20 object-cover rounded-lg mr-4"})," ",(0,o.jsxs)("div",{className:"flex flex-col",children:[" ",(0,o.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:s.name}),(0,o.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Status: ",e.status]})]})]}),(0,o.jsx)("ul",{className:"mt-4 divide-y divide-gray-200",children:(0,o.jsx)("li",{className:"flex justify-between py-4",children:(0,o.jsx)("span",{className:"text-gray-800",children:(0,n.$)(s.price)})},s.productId)}),(0,o.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,o.jsx)("span",{className:"font-medium text-gray-900",children:"Total:"}),(0,o.jsx)("span",{className:"font-medium text-gray-900",children:(0,n.$)(e.total_price/100)})]})]},e._id)}))]})}):(0,o.jsx)(a.C5,{to:"/auth/signin"})}}}]);
//# sourceMappingURL=158.6fce8ce5.chunk.js.map